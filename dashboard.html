
<!DOCTYPE html>
<html>
<head>
  <title>Boss Dashboard - eSevai</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f2f5;
      padding: 20px;
    }
    h2 {
      text-align: center;
    }
    .container {
      max-width: 800px;
      margin: auto;
    }
    .card {
      background: white;
      padding: 20px;
      margin-top: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ccc;
    }
    input, button {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üë®‚Äçüíº Boss Dashboard</h2>
    <button onclick="logout()" style="float:right;">Logout</button>

    <div class="card">
      <h3>Create New Staff User</h3>
      <input type="text" id="newUser" placeholder="Staff ID (e.g. 011)">
      <input type="password" id="newPass" placeholder="Password">
      <button onclick="createStaff()">Create Staff</button>
    </div>

    <div class="card">
      <h3>Update Boss Credentials</h3>
      <input type="text" id="bossUser" placeholder="New Boss Username">
      <input type="password" id="bossPass" placeholder="New Boss Password">
      <button onclick="updateBoss()">Update Boss</button>
    </div>
  </div>

  <script>
    const bossSheetURL = "https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec"; // replace with your Apps Script

    function logout() {
      sessionStorage.clear();
      location.href = "login.html";
    }

    function createStaff() {
      const id = document.getElementById("newUser").value;
      const pass = document.getElementById("newPass").value;
      if (!id || !pass) return alert("Enter staff ID and password");

      fetch(bossSheetURL, {
        method: "POST",
        body: new URLSearchParams({ action: "createStaff", id, pass })
      }).then(r => r.text()).then(resp => {
        alert("‚úÖ Staff Created");
        document.getElementById("newUser").value = "";
        document.getElementById("newPass").value = "";
      });
    }

    function updateBoss() {
      const u = document.getElementById("bossUser").value;
      const p = document.getElementById("bossPass").value;
      if (!u || !p) return alert("Enter boss credentials");

      fetch(bossSheetURL, {
        method: "POST",
        body: new URLSearchParams({ action: "updateBoss", user: u, pass: p })
      }).then(r => r.text()).then(resp => {
        alert("‚úÖ Boss credentials updated");
      });
    }
  </script>
</body>
</html>
